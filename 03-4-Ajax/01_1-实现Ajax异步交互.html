<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>实现Ajax异步交互</title>
	<meta name="generator" content="EverEdit" />
	<meta name="author" content="" />
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<link rel="stylesheet" href=""/>
	<style>
		button{
			height:30px;
			width:80px;
			float:left;
			margin:100px 30%;
		}
	</style>
</head>
<body>
	<button id="btn">异步请求</button>
</body>
<script type="text/javascript">
	var btn=document.getElementById("btn");
	btn.onclick=function(){
		//实现Ajax的异步交互
		var xhr=getHttpObject();
		//------用get 的方法向服务器发送请求------
		//建立连接,
		//xhr.open("get","01_1.php?user=zhangwuji");
		//发送请求,不起作用但必要
		//xhr.send(null);

		//------用POST 的方法向服务器发送请求------
		//建立连接,
		xhr.open("post","01_1.php");
		//使用post请去类型 要先设置请求头里的 content-type
		xhr.setRequestHeader("content-type","application/x-www-form-urlencoded")
		xhr.send("user=zhangwuji");
		
		xhr.onreadystatechange=function(){
			if(xhr.readyState===4){
				if(xhr.status==200){
					var data=xhr.responseText;
					console.log(data);
				}
			}
		}
	}
	
	//创建XMLHttpRequest对象
	function getHttpObject(){
		var xhr=null;
		if(window.XMLHttpRequest){
			xhr=new XMLHttpRequest();
		}else{
			//IE浏览器(IE8 以及之前版本) 字符串不分大小写
			xhr=new ActiveXObject("Microsoft.XMLHttp");
		}
		return xhr;
	}
	
</script>
</html>