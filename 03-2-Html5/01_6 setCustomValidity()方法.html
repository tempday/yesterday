<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>setCustomValidity()方法</title>
	<meta name="generator" content="EverEdit" />
	<meta name="author" content="" />
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<style type="text/css" media="screen" id="test">
		div{
			width:150px;
			height:150px;
			border:1px solid black;
			background:#e4393c
		}
		form{
			display: block;
			width:350px;
			padding-left:10px;
		}
	</style>
</head>
<body>
	<form >
		<fieldset >
			<legend>用户注册</legend>
			<table>
				<tr>
					<td>输入用户名:</td>
					<td><input id="user" placeholder="Enter you name"type="text" pattern="^[a-zA-Z][a-zA-Z\d]{5,11}$" maxlength="12" required /></td>
				</tr>
				<!--
				<tr>
					<td>确认密码:</td>
					<td><input id="pwd" placeholder="password"type="password"  pattern="^[a-zA-Z]{6,8}$" /></td>
				</tr>
				<tr>
					<td>再次确认密码:</td>
					<td><input id="repwd" placeholder="password" type="password" minlength="6" maxlength="8" pattern="^[a-zA-Z]+$" /></td>
				</tr>
				<tr>
					<td>Email地址:</td>
					<td><input id="email" type="email" placeholder="email"required/></td>
				</tr>
				<tr>
					<td>个人主页:</td>
					<td><input id="url" type="url" placeholder="url" required/></td>
				</tr>
				<tr>
					<td>出生日期:</td>
					<td><input type="date"  required/></td>
				</tr>
				<tr>
					<td>年龄</td>
					<td><input type="number" placeholder="year" min="1" max="100" required/></td>
				</tr>-->
				<tr>
					<td></td>
					<td><input type="submit"/></td>
				</tr>
			</table>
		</fieldset>
	</form>
</body>
<script type="text/javascript">
	var user=document.getElementById("user");
	user.onblur=function(){
		if (user.validity.valueMissing){
			user.setCustomValidity("Username can't be empty.");
			return false;
		}else{
			user.setCustomValidity("");
			return true;
		}
		/*
		if(user.value!=''&&user.value!=null){
			user.setCustomValidity("");
		}else if(user.validity.valueMissing){
			user.setCustomValidity("Username can't be empty.");
			return false;
		}
		*/
	}
</script>
</html>